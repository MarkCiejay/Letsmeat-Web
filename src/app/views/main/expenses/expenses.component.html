<!-- 

 -->

<div
  class="container-fluid p-3 h-100 d-flex align-items-center justify-content-center"
>
  <div class="box">
    <div class="d-flex p-3 align-items-center justify-content-between">
      <h5>Expenses</h5>
    </div>

    <div class="d-flex gap-2 align-items-center justify-content-between">
      <div class="input-group">
        <input
          type="text"
          class="search-input"
          placeholder="Search..."
          [(ngModel)]="searchText"
          (input)="search()"
        />
      </div>
      <div class="row">
        <div class="col">
          <div ngbDropdown class="d-inline-block">
            <button
              type="button"
              class="btn btn-outline-dark"
              id="dropdownBasic1"
              ngbDropdownToggle
            >
              Generate Report
            </button>
            <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
              <button ngbDropdownItem (click)="printExpenses('Daily')">
                Today
              </button>
              <button ngbDropdownItem (click)="printExpenses('Weekly')">
                Weekly
              </button>
              <button ngbDropdownItem (click)="printExpenses('Monthly')">
                Monthly
              </button>
            </div>
          </div>
        </div>
      </div>
      <button class="btn btn-dark" style="width: 250px" (click)="addExpenses()">
        Add Products
      </button>
    </div>
    <div class="table-responsive flex-grow-1">
      <div class="flex-grow-1">
        <table class="table table-hover table-borderless">
          <thead>
            <tr>
              <th>Description</th>
              <th>Cashier</th>
              <th>Amount</th>
              <th>Date</th>
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="
                let expenses of filteredExpenses$
                  | slice
                    : (currentPage - 1) * itemsPerPage
                    : currentPage * itemsPerPage
              "
            >
              <td>
                {{ expenses.expenses.description }}
              </td>
              <td>
                {{ expenses.user.name }}
              </td>
              <td>
                {{ expenses.expenses.cash }}
              </td>
              <td>
                {{ expenses.expenses.createdAt.toLocaleDateString() }}
                {{ expenses.expenses.createdAt.toLocaleTimeString() }}
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <ngb-pagination
        [(page)]="currentPage"
        [pageSize]="itemsPerPage"
        [collectionSize]="filteredExpenses$.length"
      ></ngb-pagination>
    </div>

    <!-- <div class="d-flex justify-content-center justify-content-between">
    <button class="btn btn-outline-secondary" (click)="loadPrev()">
      Previous
    </button>
    <button class="btn btn-outline-secondary" (click)="loadNext()">
      Next
    </button>
  </div> -->
  </div>
</div>
